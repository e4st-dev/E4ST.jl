<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Policy · E4ST.jl⚡</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.png" alt="E4ST.jl⚡ logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">E4ST.jl⚡</a></span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li><a class="tocitem" href="../overview.html">Overview</a></li><li><span class="tocitem">Inputs</span><ul><li><a class="tocitem" href="../inputs/config.html">Config File</a></li><li><a class="tocitem" href="../inputs/data.html">Data</a></li><li><a class="tocitem" href="../inputs/bus.html">Bus Table</a></li><li><a class="tocitem" href="../inputs/gen.html">Generator Table</a></li><li><a class="tocitem" href="../inputs/branch.html">Branch Table</a></li><li><a class="tocitem" href="../inputs/hours.html">Hours Table</a></li><li><a class="tocitem" href="../inputs/load.html">Load</a></li><li><a class="tocitem" href="../inputs/af.html">Availability Factor Table</a></li><li><a class="tocitem" href="../inputs/logging.html">Logging</a></li></ul></li><li><span class="tocitem">Model</span><ul><li><a class="tocitem" href="../model/dcopf.html">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../model/formulation.html">Model Formulation</a></li></ul></li><li><span class="tocitem">Results</span><ul><li><a class="tocitem" href="../results/overview.html">Overview</a></li><li><a class="tocitem" href="../results/formulas.html">Formulas</a></li><li><a class="tocitem" href="../results/modifications.html">Results Modifications</a></li><li><a class="tocitem" href="../results/plotting.html">Plotting</a></li></ul></li><li><span class="tocitem">Abstract Types</span><ul><li><a class="tocitem" href="mod.html">Modication</a></li><li><a class="tocitem" href="iterable.html">Iterable</a></li><li class="is-active"><a class="tocitem" href="policy.html">Policy</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Tax-Credits"><span>Tax Credits</span></a></li><li><a class="tocitem" href="#ITC"><span>ITC</span></a></li><li><a class="tocitem" href="#PTC"><span>PTC</span></a></li><li class="toplevel"><a class="tocitem" href="#GenerationStandard"><span>GenerationStandard</span></a></li><li><a class="tocitem" href="#Crediting"><span>Crediting</span></a></li><li><a class="tocitem" href="#CES"><span>CES</span></a></li><li><a class="tocitem" href="#RPS"><span>RPS</span></a></li><li class="toplevel"><a class="tocitem" href="#GenerationConstraint"><span>GenerationConstraint</span></a></li><li><a class="tocitem" href="#EmissionCap"><span>EmissionCap</span></a></li><li><a class="tocitem" href="#EmissionPrice"><span>EmissionPrice</span></a></li></ul></li><li><a class="tocitem" href="unit.html">Unit</a></li></ul></li><li><span class="tocitem">Modifications</span><ul><li><a class="tocitem" href="modifications/adjust.html">Arbitrary Temporal Adjustments</a></li><li><a class="tocitem" href="modifications/fuel-price.html">Endogenous Fuel Prices</a></li><li><a class="tocitem" href="modifications/reserve-requirement.html">Reserve Requirements</a></li></ul></li><li><span class="tocitem">Technologies</span><ul><li><a class="tocitem" href="modifications/ccus.html">CO₂ Capture, Utilization &amp; Storage</a></li><li><a class="tocitem" href="modifications/dcline.html">DC Transmission Lines</a></li><li><a class="tocitem" href="modifications/storage.html">Storage</a></li><li><a class="tocitem" href="modifications/retrofits.html">Retrofits</a></li><li><a class="tocitem" href="modifications/interface-limits.html">Interface Limits</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Abstract Types</a></li><li class="is-active"><a href="policy.html">Policy</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="policy.html">Policy</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/e4st-dev/E4ST.jl/blob/main/docs/src/types/policy.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Policy"><a class="docs-heading-anchor" href="#Policy">Policy</a><a id="Policy-1"></a><a class="docs-heading-anchor-permalink" href="#Policy" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="E4ST.Policy" href="#E4ST.Policy"><code>E4ST.Policy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type Policy &lt;: Modification</code></pre><p>This is a subtype of Modification that represents a policy to be modeled.</p><p>Basic Policy Types are used when defining standard policies in E4ST. They are specified as mods in the config file with a <code>type</code> field. </p><p>There are currently six basic policy types. Novel policy types can also be added as needed. </p><p><strong>Policies (Policy subtypes)</strong></p><ul><li><a href="policy.html#E4ST.ITC"><code>ITC</code></a></li><li><a href="policy.html#E4ST.PTC"><code>PTC</code></a></li><li><a href="policy.html#E4ST.EmissionCap"><code>EmissionCap</code></a></li><li><a href="policy.html#E4ST.EmissionPrice"><code>EmissionPrice</code></a></li><li><a href="policy.html#E4ST.RPS"><code>RPS</code></a></li><li><a href="policy.html#E4ST.CES"><code>CES</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/Policy.jl#L1-L17">source</a></section></article><h1 id="Tax-Credits"><a class="docs-heading-anchor" href="#Tax-Credits">Tax Credits</a><a id="Tax-Credits-1"></a><a class="docs-heading-anchor-permalink" href="#Tax-Credits" title="Permalink"></a></h1><h2 id="ITC"><a class="docs-heading-anchor" href="#ITC">ITC</a><a id="ITC-1"></a><a class="docs-heading-anchor-permalink" href="#ITC" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="E4ST.ITC" href="#E4ST.ITC"><code>E4ST.ITC</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct ITC &lt;: Policy</code></pre><p>Investment Tax Credit - A tax incentive that is a percentage of capital cost given to generators that meet the qualifications. </p><p><strong>Keyword Arguments</strong></p><ul><li><code>name</code>: policy name</li><li><code>values</code>: the credit level, stored as an OrderedDict with year and value <code>(:y2020=&gt;0.3)</code>.  Credit level refers to the percentage of the capex that will be rebated to the investor</li><li><code>gen_filters</code>: filters for qualifying generators, stored as an OrderedDict with gen table columns and values (<code>:emis_co2=&gt;&quot;&lt;=0.1&quot;</code> for co2 emission rate less than or equal to 0.1)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/ITC.jl#L2-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.modify_setup_data!-Tuple{ITC, Any, Any}" href="#E4ST.modify_setup_data!-Tuple{ITC, Any, Any}"><code>E4ST.modify_setup_data!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">E4ST.modify_setup_data!(pol::ITC, config, data)</code></pre><p>Creates a column in the gen table with the ITC value in each simulation year for the qualifying generators.</p><p>ITC values are calculated based on <code>capex_obj</code> so ITC values only apply in <code>year_on</code> for a generator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/ITC.jl#L20-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.modify_model!-Tuple{ITC, Any, Any, Any}" href="#E4ST.modify_model!-Tuple{ITC, Any, Any, Any}"><code>E4ST.modify_model!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function E4ST.modify_model!(pol::ITC, config, data, model)</code></pre><p>Subtracts the ITC price * Capacity in that year from the objective function using <a href="../model/dcopf.html#E4ST.add_obj_term!"><code>add_obj_term!(data, model, PerMWCap(), pol.name, oper = -)</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/ITC.jl#L51-L55">source</a></section></article><h2 id="PTC"><a class="docs-heading-anchor" href="#PTC">PTC</a><a id="PTC-1"></a><a class="docs-heading-anchor-permalink" href="#PTC" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="E4ST.PTC" href="#E4ST.PTC"><code>E4ST.PTC</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct PTC &lt;: Policy</code></pre><p>Production Tax Credit - A <span>$</span>/MWh tax incentive for the generation of specific technology or under specific conditions.</p><p><strong>Keyword Arguments</strong></p><ul><li><p><code>name</code>: policy name </p></li><li><p><code>values</code>: <span>$</span>/MWh values of the PTC, stored as an OrderedDict with years and the value <code>(:y2020=&gt;10)</code>, note <code>year</code> is a <code>Symbol</code></p></li><li><p><code>years_after_ref_min</code>: Min (inclusive) number of years the sim year can be after gen reference year (ie. year<em>on, year</em>retrofit). If ref year is year_on then this would be equivaled to min gen age. </p></li><li><p><code>years_after_ref_max</code>: Max (inclusive) number of years the sim year can be after gen reference year (ie. year<em>on, year</em>retrofit). If ref year is year_on then this would be equivaled to max gen age.</p></li><li><p><code>ref_year_col</code>: Column name to use as reference year for min and max above. Must be a year column. If this is :year<em>on, then the years</em>after<em>ref filters will filter gen age. If this is :year</em>retrofit, the the years<em>after</em>ref filters will filter by time since retrofit. </p></li><li><p><code>gen_filters</code>: filters for qualifying generators, stored as an OrderedDict with gen table columns and values (<code>:emis_co2=&gt;&quot;&lt;=0.1&quot;</code> for co2 emission rate less than or equal to 0.1)</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/PTC.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.modify_setup_data!-Tuple{PTC, Any, Any}" href="#E4ST.modify_setup_data!-Tuple{PTC, Any, Any}"><code>E4ST.modify_setup_data!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">E4ST.modify_setup_data!(pol::PTC, config, data)</code></pre><p>Creates a column in the gen table with the PTC value in each simulation year for the qualifying generators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/PTC.jl#L32-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.modify_model!-Tuple{PTC, Any, Any, Any}" href="#E4ST.modify_model!-Tuple{PTC, Any, Any, Any}"><code>E4ST.modify_model!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function E4ST.modify_model!(pol::PTC, config, data, model)</code></pre><p>Subtracts the PTC price * generation in that year from the objective function using <a href="../model/dcopf.html#E4ST.add_obj_term!"><code>add_obj_term!(data, model, PerMWhGen(), pol.name, oper = -)</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/PTC.jl#L81-L85">source</a></section></article><p><strong>Derivation of the PTC capex adjustment</strong> First, find the adjusted PTC value <span>$x$</span> if it were a constant cash flow over entire econ lifetime <span>$l$</span>. <br/>Start by setting the NPV of the actual PTC (per MW capacity) <span>$p$</span> and the adjusted PTC (per MW capacity) <span>$x$</span>. <br/><span>$m$</span> is the minimum age of the generator to qualify for the PTC <br/><span>$n$</span> is the maximum age of the generator to qualify for the PTC </p><p class="math-container">\[\sum_{i=1}^l x / \left(1+r \right)^i = \sum_{i=m}^n p / \left(1+r \right)^i\]</p>$<p>x \left( \frac{1- \left(\frac{1}{1+r}\right)^l}{1 - \left(\frac{1}{1+r}\right)}\right) = p \left( \frac{1- \left(\frac{1}{1+r}\right)^n}{1 - \left(\frac{1}{1+r}\right)^{m+1}}\right) $</p>$<p>x = p \frac{\left(1- \left(\frac{1}{1+r}\right)^n\right)\left(1 - \left(\frac{1}{1+r}\right)\right)}{\left(1- \left(\frac{1}{1+r}\right)^l\right)\left(1 - \left(\frac{1}{1+r}\right)^{m+1}\right)} $</p><p>To get the adjustement to capex <span>$capex\_ adj$</span> we can start with  $ capex + capex_ adj + p = capex + x $  so $ capex_ adj = p - x $</p>$<p>capex_ adj = p \left(1 - \left(\frac{\left(1- \left(\frac{1}{1+r}\right)^n\right)\left(1 - \left(\frac{1}{1+r}\right)\right)}{\left(1- \left(\frac{1}{1+r}\right)^l\right)\left(1 - \left(\frac{1}{1+r}\right)^{m+1}\right)}\right)\right) $</p><p>The value of the PTC per MW capacity <span>$p$</span> is equal to the PTC in per MWh terms <span>$PTC$</span> * capacity factor <span>$cf$</span>. We can substitute this in to get the final formula</p>$<p>capex_ adjust = PTC*cf\left(1 - \left(\frac{\left(1- \left(\frac{1}{1+r}\right)^n\right)\left(1 - \left(\frac{1}{1+r}\right)\right)}{\left(1- \left(\frac{1}{1+r}\right)^l\right)\left(1 - \left(\frac{1}{1+r}\right)^{m+1}\right)}\right)\right) $</p><h1 id="GenerationStandard"><a class="docs-heading-anchor" href="#GenerationStandard">GenerationStandard</a><a id="GenerationStandard-1"></a><a class="docs-heading-anchor-permalink" href="#GenerationStandard" title="Permalink"></a></h1><p>GenerationStandard is a type used for policies that give some generators certain credits and constrain generation to a certain target. The primary examples are CESs, RPSs, and state carveouts. </p><article class="docstring"><header><a class="docstring-binding" id="E4ST.GenerationStandard" href="#E4ST.GenerationStandard"><code>E4ST.GenerationStandard</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct GenerationStandard{T} &lt;: Policy</code></pre><p>A generation standard (also refered to as a portfolio standard) is a constraint on generation where a portion of generation from certain generators must meet the a portion of the load in a specified region. This encompasses RPSs, CESs, and technology carveouts. To assign the credit (the portion of generation that can contribute) to generators, the <a href="policy.html#E4ST.Crediting"><code>Crediting</code></a> type is used.</p><ul><li><code>name</code> - Name of the policy </li><li><code>gen_filters</code> - Filters on which generation qualifies to fulfill the GS. Sometimes qualifying generators may be outside of the GS load region if they supply power to it. </li><li><code>crediting</code> - the crediting structure and related fields</li><li><code>load_targets</code> - OrderedDict containing key-value pairs where each key is the name of a requirement (not currently used), and each value is an OrderedDict with the following keys:<ul><li><code>filters</code> - Filters on which buses fall into the GS load region. The GS will be applied to the load from these buses. </li><li><code>targets</code> - The yearly percent targets of the qualifying load that must be covered by the qualifying generation.</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/modifications/GenerationStandard.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.modify_setup_data!-Tuple{GenerationStandard, Any, Any}" href="#E4ST.modify_setup_data!-Tuple{GenerationStandard, Any, Any}"><code>E4ST.modify_setup_data!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">modify_setup_data!(pol::GenerationStandard, config, data)</code></pre><p>Adds column to the gen table with the credit level of the generation standard. Adds the name and type of the policy to the gs<em>pol</em>list in data. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/modifications/GenerationStandard.jl#L42-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.modify_model!-Tuple{GenerationStandard, Any, Any, Any}" href="#E4ST.modify_model!-Tuple{GenerationStandard, Any, Any, Any}"><code>E4ST.modify_model!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">modify_model!(pol::GenerationStandard, config, data, model)</code></pre><p>Creates the expression :p<em>gs</em>bus, the load that generation standards are applied to, if it hasn&#39;t been created already.  Creates a constraint that takes the general form: <code>sum(gs_egen * credit) &lt;= gs_value * sum(gs_load)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/modifications/GenerationStandard.jl#L68-L73">source</a></section></article><h2 id="Crediting"><a class="docs-heading-anchor" href="#Crediting">Crediting</a><a id="Crediting-1"></a><a class="docs-heading-anchor-permalink" href="#Crediting" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="E4ST.Crediting" href="#E4ST.Crediting"><code>E4ST.Crediting</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type Crediting</code></pre><p>Crediting is used to set the credit levels of generators for policies. It is primarily used for <a href="policy.html#E4ST.GenerationStandard"><code>GenerationStandard</code></a>s and <a href="modifications/reserve-requirement.html#E4ST.ReserveRequirement"><code>ReserveRequirement</code></a>s (RPS, CES, carveouts, etc). </p><p><strong>Setup inside config yaml</strong></p><p>Crediting is specified in the yaml file. A type key must be specified, along with the approriate keys for the credit type you specified. Two examples are shown in the config below.</p><pre><code class="language-yaml hljs">base_out_path:    &quot;../out/3bus_rps&quot;
mods:
  example_rps:
    type: &quot;RPS&quot;
    crediting: 
      type: &quot;StandardRPSCrediting&quot;
    gen_filters:
      nation: &quot;archenland&quot;
    load_targets:
      stormness_rps:
        filters:
          state: stormness
        targets:
          y2035: 0.9
          y2040: 0.95
  example_rps_gentype:
    type: &quot;RPS&quot;
    crediting: 
      type: &quot;CreditByGentype&quot;
      credits:
        solar: 0.8
        wind: 1.0
        oswind: 1.0
    gen_filters:
      nation: &quot;narnia&quot;
    load_targets:
      narnia_rps:
        targets:
          y2030: 0.7
          y2035: 0.8
          y2040: 0.9
        filters:  
          nation: &quot;narnia&quot;
  stor:
    type: Storage
    file: &quot;../data/3bus/storage.csv&quot;

</code></pre><p><strong>Standard Crediting subtypes include:</strong></p><ul><li><a href="policy.html#E4ST.CreditByBenchmark"><code>CreditByBenchmark</code></a></li><li><a href="policy.html#E4ST.CreditByGentype"><code>CreditByGentype</code></a></li></ul><p><strong>Interfaces Implements</strong></p><ul><li><a href="policy.html#E4ST.get_credit"><code>get_credit(c::Crediting, data, gen_row::DataFrameRow)</code></a> - gets the appropriate credit level for the generator row for the given Crediting subtype.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/Crediting.jl#L2-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.get_credit" href="#E4ST.get_credit"><code>E4ST.get_credit</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_credit(c::Crediting, data, gen_row::DataFrame) -&gt;</code></pre><p>Return the credit value for the given generator and crediting type. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/Crediting.jl#L59-L63">source</a></section><section><div><pre><code class="nohighlight hljs">get_credit(c::CreditByGentype, data, gen_row::DataFrameRow)</code></pre><p>Returns the credit level specified for the gentype in c.credits. If no credit is specified for that gentype, it defaults to 0. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/Crediting.jl#L89-L93">source</a></section><section><div><pre><code class="nohighlight hljs">get_credit(c::CreditByBenchmark, data, gen_row::DataFrameRow) -&gt;</code></pre><p>Returns the credit level based on the formula <code>max(1.0 - (gen_row[gen_col] / c.benchmark), 0.0)</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/Crediting.jl#L122-L126">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.StandardRPSCrediting" href="#E4ST.StandardRPSCrediting"><code>E4ST.StandardRPSCrediting</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct StandardRPSCrediting &lt;: Crediting</code></pre><p>Standard RPS crediting structure. Anything included in the RPS gentypes recieves a credit of 1.  Creates a <a href="policy.html#E4ST.CreditByGentype"><code>CreditByGentype</code></a></p><p><code>[&quot;solar&quot;, &quot;dist_solar&quot;, &quot;wind&quot;, &quot;oswind&quot;, &quot;geothermal&quot;, &quot;hcc_new&quot;, &quot;hcc_ret&quot;]</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/RPS.jl#L26-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.CreditByGentype" href="#E4ST.CreditByGentype"><code>E4ST.CreditByGentype</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CreditByGentype(;credits::OrderedDict{String, Float64})</code></pre><p>Crediting method where credit levels are specified by gentypes. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/Crediting.jl#L70-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.CreditByBenchmark" href="#E4ST.CreditByBenchmark"><code>E4ST.CreditByBenchmark</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CreditByBenchmark(;gen_col, benchmark)</code></pre><p>Awards credit of each generator based on how that generator&#39;s <code>gen_col</code> compares to <code>benchmark</code>, using the following formula.</p><pre><code class="nohighlight hljs">max(1.0 - (gen_row[gen_col] / benchmark), 0.0)</code></pre><ul><li><code>gen_col::Symbol</code> - the column of the <code>gen</code> table to compare against</li><li><code>benchmark::Float64</code> - the benchmark rate to compare with, in the same units as the <code>gen_col</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/Crediting.jl#L99-L108">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.AvailabilityFactorCrediting" href="#E4ST.AvailabilityFactorCrediting"><code>E4ST.AvailabilityFactorCrediting</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AvailabilityFactorCrediting &lt;: Crediting</code></pre><p>Returns the availability factor of the generator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/Crediting.jl#L146-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.StandardStorageReserveCrediting" href="#E4ST.StandardStorageReserveCrediting"><code>E4ST.StandardStorageReserveCrediting</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct StandardStorageReserveCrediting &lt;: Crediting</code></pre><p>Awards crediting to storage facilities based on their discharge duration and capacity.  The values were retrieved from NYISO at the following website, page 31:</p><p><a href="https://www.nyiso.com/documents/20142/23590734/20210805%20NYISO%20-%20Capacity%20Accreditation%20Current%20Rules%20Final.pdf"><code>https://www.nyiso.com/documents/20142/23590734/20210805%20NYISO%20-%20Capacity%20Accreditation%20Current%20Rules%20Final.pdf</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/Crediting.jl#L159-L165">source</a></section></article><h2 id="CES"><a class="docs-heading-anchor" href="#CES">CES</a><a id="CES-1"></a><a class="docs-heading-anchor-permalink" href="#CES" title="Permalink"></a></h2><p>CES is an alias for GenerationStandard. Modifying functions called on a CES will use the GenerationStandard method. </p><article class="docstring"><header><a class="docstring-binding" id="E4ST.CES" href="#E4ST.CES"><code>E4ST.CES</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">const CES = GenerationStandard{:CES}</code></pre><p><strong>Clean Energy Standard</strong> - A policy in which the load serving entity must purchase a certain ampount of clean energy credits.  The number of credits for a type of generation typically depends on it&#39;s emission rates relative to a benchmark.</p><p>CES is defined as an alias of <a href="policy.html#E4ST.GenerationStandard"><code>GenerationStandard</code></a>. </p><p>No default crediting is specified although the standard crediting will be <a href="policy.html#E4ST.CreditByBenchmark"><code>CreditByBenchmark</code></a> where the benchmark should be specified in the config.</p><p><strong>Fields</strong></p><ul><li><code>name</code> - Name of the policy </li><li><code>targets</code> - The yearly targets for the CES</li><li><code>crediting</code> - the crediting structure and related fields. CES crediting is often <a href="policy.html#E4ST.CreditByBenchmark"><code>CreditByBenchmark</code></a>. </li><li><code>gen_filters</code> - Filters on which generation qualifies to fulfill the CES. Sometimes qualifying generators may be outside of the RPS load region if they supply power to it. </li><li><code>load_bus_filters</code> - Filters on which buses fall into the load region. The CES will be applied to the load from these buses. </li></ul><p><a href="policy.html#E4ST.GenerationStandard"><code>GenerationStandard</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/CES.jl#L2-L20">source</a></section></article><h2 id="RPS"><a class="docs-heading-anchor" href="#RPS">RPS</a><a id="RPS-1"></a><a class="docs-heading-anchor-permalink" href="#RPS" title="Permalink"></a></h2><p>RPS is an alias for GenerationStandard. Modifying functions called on an RPS will use the GenerationStandard method.</p><article class="docstring"><header><a class="docstring-binding" id="E4ST.RPS" href="#E4ST.RPS"><code>E4ST.RPS</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">const RPS = GenerationStandard{:RPS}</code></pre><p><strong>Renewable Portfolio Standard</strong> - A policy that constrains a certain amount of load from a region to be supplied by qualifying clean/renewable energy. </p><p>RPS is defined as an alias of GenerationStandard where the default crediting type is StandardRPSCrediting. mod_rank for RPS will be 1.0 because that is the rank of GenerationStandards</p><p><strong>Fields</strong></p><ul><li><code>name</code> - Name of the policy </li><li><code>targets</code> - The yearly targets for the RPS</li><li><code>crediting</code> - the crediting structure and related fields. Standard CES crediting is CreditingByBenchmark.</li><li><code>gen_filters</code> - Filters on which generation qualifies to fulfill the RPS. Sometimes qualifying generators may be outside of the RPS load region if they supply power to it.  </li><li><code>load_bus_filters</code> - Filters on which buses fall into the RPS load region. The RPS will be applied to the load from these buses. </li></ul><p><a href="policy.html#E4ST.GenerationStandard"><code>GenerationStandard</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/RPS.jl#L3-L19">source</a></section></article><h1 id="GenerationConstraint"><a class="docs-heading-anchor" href="#GenerationConstraint">GenerationConstraint</a><a id="GenerationConstraint-1"></a><a class="docs-heading-anchor-permalink" href="#GenerationConstraint" title="Permalink"></a></h1><p>GenerationConstraint is a type used for constraining generation from some generators to a certain max or min amount. The max and min can also be defined in terms of another column in the gen table such as emissions. A GenerationConstraint is defined when creating an EmissionCap but can be used for more general modifications beyond policies as well. </p><article class="docstring"><header><a class="docstring-binding" id="E4ST.GenerationConstraint" href="#E4ST.GenerationConstraint"><code>E4ST.GenerationConstraint</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct GenerationConstraint &lt;: Modification</code></pre><p><strong>Generation Constraint</strong> - A Modification that applies a constraint based on (yearly generation) * (a column from the gen table). </p><ul><li><code>name</code>: modification name </li><li><code>col</code>: gen table column</li><li><code>max_values</code>: maximum values for a year (defaults as an empty OrderedDict if no maxs)</li><li><code>min_values</code>: minimum values for a year (defaults as an empty OrderedDict if no mins)</li><li><code>gen_filters</code>: OrderedDict of the generator filters</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/modifications/GenerationConstraint.jl#L2-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.modify_model!-Tuple{GenerationConstraint, Any, Any, Any}" href="#E4ST.modify_model!-Tuple{GenerationConstraint, Any, Any, Any}"><code>E4ST.modify_model!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">modify_model!(cons::GenerationConstraint, config, data, model)</code></pre><p>Creates upper and lower bound constraints on the generators.  See also <a href="policy.html#E4ST.GenerationConstraint"><code>GenerationConstraint</code></a> for more details</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/modifications/GenerationConstraint.jl#L25-L29">source</a></section></article><h2 id="EmissionCap"><a class="docs-heading-anchor" href="#EmissionCap">EmissionCap</a><a id="EmissionCap-1"></a><a class="docs-heading-anchor-permalink" href="#EmissionCap" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="E4ST.EmissionCap" href="#E4ST.EmissionCap"><code>E4ST.EmissionCap</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct EmissionCap &lt;: Policy</code></pre><p>Emission Cap - A limit on a certain emission for a given set of generators.</p><ul><li><code>name</code>: name of the policy (Symbol)</li><li><code>emis_col</code>: name of the emission rate column in the gen table (ie. emis_co2) (Symbol)</li><li><code>targets</code>: OrderedDict of cap targets by year</li><li><code>gen_filters</code>: OrderedDict of generator filters</li><li><code>gen_cons</code>: GenerationConstraint Modification created on instantiation of the EmissionCap (not specified in config). It sets the cap targets as the max_targets of the GenerationConstraint and passes on other fields.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/EmissionCap.jl#L3-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.modify_model!-Tuple{EmissionCap, Any, Any, Any}" href="#E4ST.modify_model!-Tuple{EmissionCap, Any, Any, Any}"><code>E4ST.modify_model!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">E4ST.modify_model!(pol::EmissionCap, config, data, model)</code></pre><p>Calls <a href="policy.html#E4ST.modify_model!-Tuple{GenerationConstraint, Any, Any, Any}"><code>modify_model!(cons::GenerationConstraint, config, data, model)</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/EmissionCap.jl#L32-L36">source</a></section></article><h2 id="EmissionPrice"><a class="docs-heading-anchor" href="#EmissionPrice">EmissionPrice</a><a id="EmissionPrice-1"></a><a class="docs-heading-anchor-permalink" href="#EmissionPrice" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="E4ST.EmissionPrice" href="#E4ST.EmissionPrice"><code>E4ST.EmissionPrice</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct EmissionPrice &lt;: Policy</code></pre><p>Emission Price - A price on a certain emission for a given set of generators.</p><ul><li><code>name</code>: name of the policy (Symbol)</li><li><code>emis_col</code>: name of the emission rate column in the gen table (ie. emis_co2) (Symbol)</li><li><code>prices</code>: OrderedDict of prices by year. Given as price per unit of emissions (ie. <span>$</span>/short ton)</li><li><code>years_after_ref_min</code>: Min (inclusive) number of years the sim year can be after gen reference year (ie. year<em>on, year</em>retrofit). If ref year is year_on then this would be equivaled to min gen age. This is rarely used in real policy, so be careful if changing from default value</li><li><code>years_after_ref_max</code>: Max (inclusive) number of years the sim year can be after gen reference year (ie. year<em>on, year</em>retrofit). If ref year is year_on then this would be equivaled to max gen age. This is rarely used in real policy, so be careful if changing from default value</li><li><code>ref_year_col</code>: Column name to use as reference year for min and max above. Must be a year column. If this is :year<em>on, then the years</em>after<em>ref filters will filter gen age. If this is :year</em>retrofit, the the years<em>after</em>ref filters will filter by time since retrofit. This is rarely used in real policy, so be careful if changing from default value</li><li><code>gen_filters</code>: OrderedDict of generator filters</li><li><code>hour_filters</code>: OrderedDict of hour filters</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/EmissionPrice.jl#L2-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="E4ST.modify_model!-Tuple{EmissionPrice, Any, Any, Any}" href="#E4ST.modify_model!-Tuple{EmissionPrice, Any, Any, Any}"><code>E4ST.modify_model!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">E4ST.modify_model!(pol::EmissionPrice, config, data, model)</code></pre><p>Adds a column to the gen table containing the emission price as a per MWh value (gen emission rate * emission price).  Adds this as a <code>PerMWhGen</code> price to the objective function using <a href="../model/dcopf.html#E4ST.add_obj_term!"><code>add_obj_term!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/652485d148c9e25c2b8454b87d883eb439773f34/src/types/policies/EmissionPrice.jl#L32-L37">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="iterable.html">« Iterable</a><a class="docs-footer-nextpage" href="unit.html">Unit »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 15 August 2023 20:41">Tuesday 15 August 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
