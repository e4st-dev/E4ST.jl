<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Endogenous Fuel Prices · E4ST.jl⚡</title><meta name="title" content="Endogenous Fuel Prices · E4ST.jl⚡"/><meta property="og:title" content="Endogenous Fuel Prices · E4ST.jl⚡"/><meta property="twitter:title" content="Endogenous Fuel Prices · E4ST.jl⚡"/><meta name="description" content="Documentation for E4ST.jl⚡."/><meta property="og:description" content="Documentation for E4ST.jl⚡."/><meta property="twitter:description" content="Documentation for E4ST.jl⚡."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../index.html"><img src="../../assets/logo.png" alt="E4ST.jl⚡ logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../index.html">E4ST.jl⚡</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../index.html">Home</a></li><li><a class="tocitem" href="../../overview.html">Overview</a></li><li><span class="tocitem">Inputs</span><ul><li><a class="tocitem" href="../../inputs/config.html">Config File</a></li><li><a class="tocitem" href="../../inputs/data.html">Data</a></li><li><a class="tocitem" href="../../inputs/bus.html">Bus Table</a></li><li><a class="tocitem" href="../../inputs/gen.html">Generator Table</a></li><li><a class="tocitem" href="../../inputs/branch.html">Branch Table</a></li><li><a class="tocitem" href="../../inputs/hours.html">Hours Table</a></li><li><a class="tocitem" href="../../inputs/load.html">Load</a></li><li><a class="tocitem" href="../../inputs/af.html">Availability Factor Table</a></li><li><a class="tocitem" href="../../inputs/logging.html">Logging</a></li></ul></li><li><span class="tocitem">Model</span><ul><li><a class="tocitem" href="../../model/dcopf.html">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../model/formulation.html">Model Formulation</a></li></ul></li><li><span class="tocitem">Results</span><ul><li><a class="tocitem" href="../../results/overview.html">Overview</a></li><li><a class="tocitem" href="../../results/formulas.html">Formulas</a></li><li><a class="tocitem" href="../../results/modifications.html">Results Modifications</a></li><li><a class="tocitem" href="../../results/plotting.html">Plotting</a></li><li><a class="tocitem" href="../../results/post-processing.html">Post-Processing</a></li></ul></li><li><span class="tocitem">Abstract Types</span><ul><li><a class="tocitem" href="../mod.html">Modication</a></li><li><a class="tocitem" href="../iterable.html">Iterable</a></li><li><a class="tocitem" href="../policy.html">Policy</a></li><li><a class="tocitem" href="../unit.html">Unit</a></li></ul></li><li><span class="tocitem">Modifications</span><ul><li><a class="tocitem" href="adjust.html">Arbitrary Temporal Adjustments</a></li><li class="is-active"><a class="tocitem" href="fuel-price.html">Endogenous Fuel Prices</a></li><li><a class="tocitem" href="reserve-requirement.html">Reserve Requirements</a></li><li><a class="tocitem" href="annual-cf-lim.html">Annual Capacity Factor Limit</a></li></ul></li><li><span class="tocitem">Technologies</span><ul><li><a class="tocitem" href="ccus.html">CO₂ Capture, Utilization &amp; Storage</a></li><li><a class="tocitem" href="dcline.html">DC Transmission Lines</a></li><li><a class="tocitem" href="storage.html">Storage</a></li><li><a class="tocitem" href="retrofits.html">Retrofits</a></li><li><a class="tocitem" href="interface-limits.html">Interface Limits</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Modifications</a></li><li class="is-active"><a href="fuel-price.html">Endogenous Fuel Prices</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="fuel-price.html">Endogenous Fuel Prices</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/e4st-dev/E4ST.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/e4st-dev/E4ST.jl/blob/main/docs/src/types/modifications/fuel-price.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Fuel-Price"><a class="docs-heading-anchor" href="#Fuel-Price">Fuel Price</a><a id="Fuel-Price-1"></a><a class="docs-heading-anchor-permalink" href="#Fuel-Price" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="E4ST.FuelPrice" href="#E4ST.FuelPrice"><code>E4ST.FuelPrice</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FuelPrice(;file, fp_scalar=1e3) &lt;: Modification</code></pre><p>FuelPrice is a <a href="../mod.html#E4ST.Modification"><code>Modification</code></a> allowing users to specify fuel prices for different fuels by region.  If multiple steps and quantities are given, the fuel price for a given region will be computed endogenously.</p><ul><li><a href="fuel-price.html#E4ST.modify_raw_data!-Tuple{FuelPrice, Any, Any}"><code>modify_raw_data!(mod::FuelPrice, config, data)</code></a></li><li><a href="fuel-price.html#E4ST.modify_setup_data!-Tuple{FuelPrice, Any, Any}"><code>modify_setup_data!(mod::FuelPrice, config, data)</code></a></li><li><a href="fuel-price.html#E4ST.modify_model!-Tuple{FuelPrice, Any, Any, Any}"><code>modify_model!(mod::FuelPrice, config, data, model)</code></a></li><li><a href="fuel-price.html#E4ST.modify_results!-Tuple{FuelPrice, Any, Any}"><code>modify_results!(mod::FuelPrice, config, data)</code></a></li></ul><p>To adjust price by hour or year, see <a href="adjust.html#E4ST.AdjustHourly"><code>AdjustHourly</code></a> or <a href="adjust.html#E4ST.AdjustYearly"><code>AdjustYearly</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>file</code> - file path to the table of fuel steps. See [<code>summarize_table(::Val{:fuel_price})</code>]@(ref)</li><li><code>fp_scalar = 1e3</code> - a <code>Float64</code> for how much to scale the fuel price variables by.  This helps with numerical instability, given that some fuel steps can be very large and could bloat the RHS and bounds range of the model.  The default value of 1e3, for example, means that the quantity variables will all be in terms of thousands of MMBtu rather than MMBtu.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/1c1fc59ae427af79ed25998fffbd6d2375747bd2/src/types/modifications/FuelPrice.jl#L2-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="E4ST.modify_raw_data!-Tuple{FuelPrice, Any, Any}" href="#E4ST.modify_raw_data!-Tuple{FuelPrice, Any, Any}"><code>E4ST.modify_raw_data!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">modify_raw_data!(mod::FuelPrice, config, data)</code></pre><p>Read table from <code>mod.file</code> into <code>data[:fuel_price]</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/1c1fc59ae427af79ed25998fffbd6d2375747bd2/src/types/modifications/FuelPrice.jl#L43-L47">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="E4ST.modify_setup_data!-Tuple{FuelPrice, Any, Any}" href="#E4ST.modify_setup_data!-Tuple{FuelPrice, Any, Any}"><code>E4ST.modify_setup_data!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">modify_setup_data!(mod::FuelPrice, config, data)</code></pre><p>Zero out the <code>fuel_price</code> column of the <code>gen</code> table, as it will get overwritten later by this Modification.  This is to avoid double-counting the fuel cost.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/1c1fc59ae427af79ed25998fffbd6d2375747bd2/src/types/modifications/FuelPrice.jl#L54-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="E4ST.modify_model!-Tuple{FuelPrice, Any, Any, Any}" href="#E4ST.modify_model!-Tuple{FuelPrice, Any, Any, Any}"><code>E4ST.modify_model!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">modify_model!(mod::FuelPrice, config, data, model)</code></pre><ul><li>Make <code>data[:fuel_markets]</code> to keep track of each of the fuel markets</li><li>Add variable <code>fuel_sold[fuel_price_idx,  yr_idx, hr_idx]</code>: total fuel sold at each price step for each time interval</li><li>Add expression <code>fuel_used[fuel_market_idx, yr_idx, hr_idx]</code>: total fuel used by generators for each market region for each time interval</li><li>Add expression <code>fuel_price_obj[fuel_market_idx, yr_idx, hr_idx]</code>: total cost of the fuel, added to the objective.</li><li>Add constraint <code>cons_fuel_sold[fuel_price_idx, yr_idx]</code>: constrain the total <code>fuel_sold</code> in each year to be ≤ yearly quantity</li><li>Add constraint <code>cons_fuel_bal[fuel_market_idx, yr_idx, hr_idx]</code>: constrain the amount of fuel sold in each market region to equal the amount of fuel used in each market region.</li></ul><p><code>fuel_sold</code> and <code>fuel_used</code> will be scaled down using the fp_scalar to reduce the difference in size between the variables used together in these constraints.  This prevents issues with shadow prices which can sometimes be rounded to 0 when the objective scalar is high. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/1c1fc59ae427af79ed25998fffbd6d2375747bd2/src/types/modifications/FuelPrice.jl#L80-L92">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="E4ST.modify_results!-Tuple{FuelPrice, Any, Any}" href="#E4ST.modify_results!-Tuple{FuelPrice, Any, Any}"><code>E4ST.modify_results!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">modify_results!(mod::FuelPrice, config, data)</code></pre><ul><li>Calculate the clearing price for each market region for each fuel type.<ul><li>Equal to the shadow price of <code>cons_fuel_sold</code> for the cheapest fuel price step in the region plus the cheapest fuel price</li><li>Add it to <code>fuel_markets.clearing_price</code> column</li><li>Update <code>gen.fuel_price</code> column to use the clearing price (multiplied by the <code>heat_rate</code> column)</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/1c1fc59ae427af79ed25998fffbd6d2375747bd2/src/types/modifications/FuelPrice.jl#L193-L200">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="E4ST.summarize_table-Tuple{Val{:fuel_price}}" href="#E4ST.summarize_table-Tuple{Val{:fuel_price}}"><code>E4ST.summarize_table</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarize_table(::Val{:fuel_price})</code></pre><table><tr><th style="text-align: left">column_name</th><th style="text-align: left">data_type</th><th style="text-align: left">unit</th><th style="text-align: left">required</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left"><code>genfuel</code></td><td style="text-align: left">String</td><td style="text-align: left">E4ST.NA</td><td style="text-align: left">true</td><td style="text-align: left">The type of fuel that the price applies for. i.e. <code>ng</code> or <code>coal</code></td></tr><tr><td style="text-align: left"><code>area</code></td><td style="text-align: left">String</td><td style="text-align: left">E4ST.NA</td><td style="text-align: left">true</td><td style="text-align: left">The area that the price applies for i.e. <code>nation</code>.  Leave blank if grid-wide</td></tr><tr><td style="text-align: left"><code>subarea</code></td><td style="text-align: left">String</td><td style="text-align: left">E4ST.NA</td><td style="text-align: left">true</td><td style="text-align: left">The subarea that the price applies for i.e. <code>narnia</code>.  Leave blank if grid-wide</td></tr><tr><td style="text-align: left"><code>filter_</code></td><td style="text-align: left">String</td><td style="text-align: left">E4ST.NA</td><td style="text-align: left">false</td><td style="text-align: left">I.e. <code>filter1</code>, <code>filter2</code>, etc. Other filter conditions that the price applies for, see <a href="../../inputs/data.html#E4ST.parse_comparison"><code>parse_comparison</code></a> for ideas</td></tr><tr><td style="text-align: left"><code>price</code></td><td style="text-align: left">Float64</td><td style="text-align: left">E4ST.DollarsPerMMBtu</td><td style="text-align: left">true</td><td style="text-align: left">The price of 1 MMBtu of fuel</td></tr><tr><td style="text-align: left"><code>quantity</code></td><td style="text-align: left">Float64</td><td style="text-align: left">E4ST.MMBtu</td><td style="text-align: left">true</td><td style="text-align: left">The number of MMBtu of the fuel available at the price in each year.  Set to <code>Inf</code> for unlimited.</td></tr></table></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e4st-dev/E4ST.jl/blob/1c1fc59ae427af79ed25998fffbd6d2375747bd2/src/types/modifications/FuelPrice.jl#L25-L29">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="adjust.html">« Arbitrary Temporal Adjustments</a><a class="docs-footer-nextpage" href="reserve-requirement.html">Reserve Requirements »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Monday 29 September 2025 22:40">Monday 29 September 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
